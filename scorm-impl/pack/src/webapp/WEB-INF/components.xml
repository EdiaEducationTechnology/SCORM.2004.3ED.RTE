<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
	<!-- Bring in the HBM related beans -->
	<import resource="hibernate-hbms.xml" />

	<!-- Bring in the hibernate daos -->
	<import resource="spring-hibernate-daos.xml" />
	
	<!-- Bring in the sakai daos -->
	<import resource="spring-sakai-daos.xml" />
	
	<!-- Bring in the sakai implementation service beans -->
	<import resource="spring-sakai-service.xml" />
	
	<!-- Bring in the sakai content hosting handler beans -->
	<!-- // Comment this out if you want to use 'standalone' content storage in place of Sakai's standard repository -->
	<import resource="spring-sakai-chh.xml" />
	
	
	<!-- Bring in the standalone webapp beans -->
	<!-- // To store your content in tomcat's file system, uncomment this and comment
                        out the spring-sakai-chh.xml import above -->
    <!--
	<import resource="spring-standalone-webapp.xml" />
	-->
	
		
	<bean id="org.sakaiproject.scorm.adl.ADLConsultant"
		class="org.sakaiproject.scorm.adl.impl.ADLConsultantImpl"
		singleton="true">
		
		<!-- Service beans -->
		<lookup-method name="resourceService" bean="org.sakaiproject.scorm.service.api.ScormResourceService" />
		
		<!-- Data Access Objects -->
		<lookup-method name="dataManagerDao" bean="org.sakaiproject.scorm.dao.api.DataManagerDao" />
		<lookup-method name="seqActivityTreeDao" bean="org.sakaiproject.scorm.dao.api.SeqActivityTreeDao" />
		
	</bean>
	
	<!-- This bean serves the Scorm API calls -->
	<bean id="org.sakaiproject.scorm.service.api.ScormApplicationService"
		class="org.sakaiproject.scorm.service.impl.ScormApplicationServiceImpl"
		singleton="true">
		
		<!-- Scorm Sequencing Service to manage navigate calls -->
		<lookup-method name="scormSequencingService" bean="org.sakaiproject.scorm.service.api.ScormSequencingService" />
		
		<!-- Local utility bean -->
		<lookup-method name="adlManager" bean="org.sakaiproject.scorm.service.api.ADLManager" />
		
		<!-- Data Access Objects -->
		<lookup-method name="attemptDao" bean="org.sakaiproject.scorm.dao.api.AttemptDao" />	  
		<lookup-method name="dataManagerDao" bean="org.sakaiproject.scorm.dao.api.DataManagerDao" />
		<lookup-method name="learnerDao" bean="org.sakaiproject.scorm.dao.LearnerDao" />
	</bean>
	
	<!-- This bean manages content -->
	<bean id="org.sakaiproject.scorm.service.api.ScormContentService"
		class="org.sakaiproject.scorm.service.impl.ScormContentServiceImpl"
		singleton="true">
		
		<!-- Service beans -->
		<lookup-method name="lms" bean="org.sakaiproject.scorm.service.api.LearningManagementSystem"/>
		<lookup-method name="permissionService" bean="org.sakaiproject.scorm.service.api.ScormPermissionService" />
		<lookup-method name="resourceService" bean="org.sakaiproject.scorm.service.api.ScormResourceService" />
		
		<!-- Data Access Objects -->
		<lookup-method name="contentPackageDao" bean="org.sakaiproject.scorm.dao.api.ContentPackageDao" />
		<lookup-method name="dataManagerDao" bean="org.sakaiproject.scorm.dao.api.DataManagerDao" />
		<lookup-method name="learnerDao" bean="org.sakaiproject.scorm.dao.LearnerDao" />
		<lookup-method name="seqActivityTreeDao" bean="org.sakaiproject.scorm.dao.api.SeqActivityTreeDao" />

	</bean>	
	
	<!-- THE SAKAI STUFF IN THIS NEEDS TO BE ABSTRACTED -->
	<bean id="org.sakaiproject.scorm.service.api.ScormPermissionService"
		class="org.sakaiproject.scorm.service.impl.ScormPermissionServiceImpl"
		singleton="true">
		
		<!-- Sakai API Services -->
		<lookup-method name="securityService" bean="org.sakaiproject.authz.api.SecurityService" />
		<lookup-method name="serverConfigurationService" bean="org.sakaiproject.component.api.ServerConfigurationService" />
		<lookup-method name="siteService" bean="org.sakaiproject.site.api.SiteService" />
		<lookup-method name="toolManager" bean="org.sakaiproject.tool.api.ToolManager" />
		<lookup-method name="userDirectoryService" bean="org.sakaiproject.user.api.UserDirectoryService" />	  
		
	</bean>
	
	
	<bean id="org.sakaiproject.scorm.service.api.ScormResultService"
		class="org.sakaiproject.scorm.service.impl.ScormResultServiceImpl"
		singleton="true">
		
		<!-- Data Access Objects -->
		<lookup-method name="attemptDao" bean="org.sakaiproject.scorm.dao.api.AttemptDao" />
		<lookup-method name="dataManagerDao" bean="org.sakaiproject.scorm.dao.api.DataManagerDao" />
	</bean>
	
	<bean id="org.sakaiproject.scorm.service.api.ScormSequencingService"
		class="org.sakaiproject.scorm.service.impl.ScormSequencingServiceImpl"
		singleton="true">
		
		<!-- Service beans -->
		<lookup-method name="lms" bean="org.sakaiproject.scorm.service.api.LearningManagementSystem"/>
		<lookup-method name="scormContentService" bean="org.sakaiproject.scorm.service.api.ScormContentService"/> 
		
		<!-- Local utility bean -->
		<lookup-method name="adlManager" bean="org.sakaiproject.scorm.adl.ADLConsultant" />
		
		<!-- Data Access Objects -->
		<lookup-method name="seqActivityTreeDao" bean="org.sakaiproject.scorm.dao.api.SeqActivityTreeDao" />		
		
	</bean>	
	
	<bean id="org.sakaiproject.scorm.service.api.ScormEntityProvider"
		class="org.sakaiproject.scorm.service.impl.ScormEntityProviderImpl">
		
	</bean>
	
</beans>